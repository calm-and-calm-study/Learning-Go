
# 포인터

---

- 포인터는 값이 저장된 메모리의 위치 값을 가지고 있는 변수이다.
- 모든 변수는 하나 혹은 그 이상의 연속적인 메모리 공간에 저장되는데, 그것을 주소라 부른다.
- 서로 다른 타입의 변수들은 서로 다른 양의 메모리를 차지한다.
- 포인터는 단순히 다른 변수가 저장된 주소를 내용으로 가지는 변수이다.


- 포인터의 제로 값은 nil 이다. 
  - 제로값이 nil 인 것은 슬라이스, 맵, 함수, 포인터, 채널, 인터페이스이다.


- Go는 가비지 컬렉터를 가지고 있기 때문에 메모리 관리를 가비지컬렉터가 해준다.


- `&` 는 주소 연산자로, 변수 앞에 `&` 을 붙이면 해당 변수의 값이 저장된 메모리 위치의 주소를 반환한다.
- `*` 는 간접 연산자이다. 포인터 타입의 변수 앞에 붙이면 가리키는 값을 반환한다. 이를 역참조라 부른다.
  - 포인터 역 참조 전에, 포인터가 nil 이 아닌지 확인해야 한다.
  - nil 을 가진 포인터로 역 참조를 시도하면 프로그램은 패닉을 일으킨다.


- 포인터 타입은 포인터가 어떤 타입을 가리키는지 나타낸다.
  - `var x *int


- 내장함수 new 는 포인터 변수를 생성한다.
- 제공된 타입의 제로 값을 가리키는 포인터를 반환한다.
```shell

var x = new(int)
fmt.Println(x == nil)
fmt.Println(*x)

```

- new 함수는 드물게 사용된다.
- 구조체를 위해 포인터 인스턴스를 만들려면 구조체 리터럴 앞에 `&` 를 사용한다.
  - 기본 타입 리터럴이나 상수 앞에는 메모리 주소를 가지지 않기 때문에 `&` 를 사용할 수 없다.