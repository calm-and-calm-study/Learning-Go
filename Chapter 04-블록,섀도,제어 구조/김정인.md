
# 블록, 섀도, 제어 구조

---

- 블록과 식별자를 사용할 수 있는 시점을 제어하는 방법
- `if`, `for`, `switch` 와 같은 Go 의 제어문


<br />


## 블록

---

- Go 의 변수를 다양한 곳에서 사용할 수 있다.
  - 변수를 함수 외부에 선언하여 파라미터로 사용할 수 있고, 함수 내의 지역변수로 할 수 있다.


- 블록 : 선언문이 있는 각각의 공간을 블록이라 한다.
  - 함수 외부에서 선언된 변수, 상수, 타입, 함수는 패키지 블록 범위내에 속한다.
  - import 문이 포함된 파일에 유효한 다른 패키지의 이름을 정의한다.
  - 해당 이름들은 파일 블록 내에 있게 된다.
  - 함수의 맨 상위에 선언된 모든 변수들은 블록 내에 있다.
  - 함수 내에서, 모든 중괄호세트는 다른 블록을 정의하여 Go 의 제어 구조가 자체 블록을 정의한다는 것을 볼 수 있다.


- 섀도잉 변수
  - 상위 선언된 변수와 같은 이름의 새로운 변수를 블록 안에 선언힌 변수
  - `:=` 연산자를 사용하는 것은 정확히 어ㄸ너 변수를 대상으로 일어나는지 불명확하기 때문에 피해야 한다.
  - 섀도잉 변수로 미묘한 버그 발생을 방지할 수 있도록 shadow 린터를 설치하여 빌드 프로세스에서 검출할 수 있다.


- Makefile 예시
```shell

vet:
  go vet ./...
  shoadow ./...
.PHONY:vet

```

<br />

## if 문

---

- if 혹은 else 문의 중괄호 내에 선언된 모든 변수는 블록 내에서만 유효하다는 것

```shell

if n := rand.Intn(10); n == 0 {
    fmt.Println("That's too low")
  } else if n > 5 {
    fmt.Println("That's too big:", n)
  } else {
    fmt.Println("That's a good number:", n)
}

```

- 블록 안에서만 유효하고, 밖에서 접근하려면 컴파일 오류를 발생한다.

