
# 타입, 메서드, 인터페이스

---

- Go 는 내장 타입과 사용자 정의 타입을 모두 가지는 정적 타입 언어이다.
- Go는 메서드를 타입에 추가할 수 있다.
- 타입 추상화도 가지고 있어 명시적으로 지정된 구현 없이 메서드 실행이 되도록 코드를 작성할 수 있다.

<br />

## Go 의 타입

---

```go
type Person struct {
	FirstName string
	LastName string
	Age int
}
```

- 구조체 리터럴의 기본 타입을 갖는 Person 이름의 사용자 정의 타입을 선언한 것이다.


- 구조체 리터럴 외 기본 타입 또는 복합 타입 리터럴을 사용하여 구체적인 타입을 정할 수 있다.

```go
type Score int
type Converter func(string)Score
type TeamScores map[string]Score
```

<br />

## 메서드

---

- Go 는 사용자 정의 타입에 대한 메서드를 지원한다.

```go
type Person struct {
	FirstName string
	LastName string
	Age int
}
func (p Person) String() string {
	return fmt.Sprintf("%s %s, age %d", p.FirstName, p.LastName, p.Age)
}
```

- 메서드 선언은 함수와 비슷하지만 추가적으로 리시버를 명시해야 한다.
- 관례적으로 리시버 이름은 타입 이름의 짧은 약어인 첫 문자를 사용한다.
- 메서드의 이름은 오버로드 되지 않는다.
  - 다른 타입을 위한 같은 이름의 메서드는 사용할 수 있지만, 같은 타입의 다른 메서드를 동일한 이름으로 사용할 수 없다.
  - 이름을 재사용하지 않는 것은 코드가 수행하는 작업을 명확히 하는 Go 철학의 일부이다.



### 포인터 리시버와 값 리시버

---

- Go 는 포인터 타입의 파라미터를 이용하여 파라미터가 함수에서 수정될 수 있다.
- 메서드 리시버 또한 포인터 리시버, 값 리시버 로 타입을 선택할 수 있다.
- 리시버 타입 사용을 결정할 때의 규칙
  - 메서드가 리시버를 수정한다면, 반드시 포인터 리시버를 사용해야 한다.
  - 메서드가 nil 인스턴스를 처리할 필요가 있다면, 반드시 포인터 리시버를 사용해야 한다.
  - 메서드가 리시버를 수정하지 않는다면, 값 리시버를 사용할 수 있다.


- 값 타입인 지역 변수를 포인터 리시버와 함께 사용하면 Go 는 자동으로 지역 변수를 포인터 타입으로 변환한다.


- 인터페이스를 충족시키는데 필요한 경우가 아니라면, Go 구조체에 대한 getter 와 setter 메서드는 작성하지 않는다.
- Go 는 각 항목에 직접 접근하는 것을 권장한다.
